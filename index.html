<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airport Stock Request</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 15px;
            margin: 0;
            background-color: #FBFCFC;
            color: #333;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 110px;
        }

        #productList div {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        label {
            font-size: 1.1rem;
        }

        input[type="number"] {
            width: 80px;
            margin-left: 10px;
            text-align: right;
        }

        span {
            margin-left: 10px;
            color: green;
        }
    </style>
</head>
<body>

    <h1>Stock Order</h1>

    <h3>选择商品</h3>
    <div id="productList"></div>

    <script>
        // 商品分类
        const categories = {
            BanHeang: [
                { id: 1, name: "Tambun Original" },
                { id: 2, name: "Tambun Pandan" },
                { id: 3, name: "Tambun White Lotus" },
                { id: 4, name: "Tau Sar Pheah" },
                { id: 5, name: "Heong Pheah" }
            ],
            Chocolate: [
                { id: 108, name: "AD Chocolate Durian" },
                { id: 109, name: "AD Chocolate Sabah Tea" }
            ]
        };

        // 从 localStorage 获取库存数据
        let inventory = JSON.parse(localStorage.getItem('inventory')) || {};

        // 加载商品
        function loadProducts(products) {
            const productList = document.getElementById('productList');
            productList.innerHTML = ''; // 清空之前的商品列表

            products.forEach(product => {
                // 获取库存数量
                const stockQuantity = inventory[product.id] || 0; // 默认为 0
                const div = document.createElement('div');
                div.innerHTML = `
                    <label>${product.name}</label>
                    <input type="number" id="quantity${product.id}" min="1" placeholder="数量">
                    <span>库存: ${stockQuantity}</span>
                `;
                productList.appendChild(div);
            });
        }

        // 页面加载时载入商品
        window.onload = function() {
            loadProducts(Object.values(categories).flat());
        };
    </script>

</body>
</html>
