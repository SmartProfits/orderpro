<!DOCTYPE html>
<html lang="zh">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Airport Stock Request</title>
		<style>

:root {
  --clr-one: rgb(240, 8, 8 );
  --clr-two: rgb(255, 216, 0 );
  --clr-three: rgb(255, 131, 0 );
  --clr-four: rgb(182, 0, 255 );
  --clr-bg: #1d1e22;
}

.store-buttons, .category-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* æ¯è¡Œ3ä¸ªæŒ‰é’®ï¼Œå¹³å‡åˆ†å¸ƒ */
    gap: 10px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
    margin: 0 auto; /* å±…ä¸­æ˜¾ç¤º */
    width: 100%; /* å…¨å®½åº¦é€‚é… */
    max-width: 600px; /* æœ€å¤§å®½åº¦é™åˆ¶ */
}




.container {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-direction: column;
  flex-wrap: wrap;
}

.buttons {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

.neon-button {
  font-size: 1rem;

  display: inline-block;
  cursor: pointer;
  text-decoration: none;
  padding: 0.5em 1em;
  margin: 2rem;
  border-radius: 0.25em;
  position: relative;
}

.neon-button__1 {
  color: var(--clr-one);
  border: var(--clr-one) 0.125em solid;
  text-shadow: 0 0 0.125em hsl(0 0% 100% / 0.3), 0 0 0.45em --clr-one;
  box-shadow: inset 0 0 0.5em 0 var(--clr-one), 0 0 0.5em 0 var(--clr-one);
}

.neon-button__2 {
  color: var(--clr-two);
  border: var(--clr-two) 0.125em solid;
  text-shadow: 0 0 0.125em hsl(0 0% 100% / 0.3), 0 0 0.45em --clr-two;
  box-shadow: inset 0 0 0.5em 0 var(--clr-two), 0 0 0.5em 0 var(--clr-two);
}

.neon-button__3 {
  color: var(--clr-three);
  border: var(--clr-three) 0.125em solid;
  text-shadow: 0 0 0.125em hsl(0 0% 100% / 0.3), 0 0 0.45em --clr-three;
  box-shadow: inset 0 0 0.5em 0 var(--clr-three), 0 0 0.5em 0 var(--clr-three);
}

.neon-button__4 {
  color: var(--clr-four:);
  border: var(--clr-four:) 0.125em solid;
  text-shadow: 0 0 0.125em hsl(0 0% 100% / 0.3), 0 0 0.45em --clr-four;
  box-shadow: inset 0 0 0.5em 0 var(--clr-four), 0 0 0.5em 0 var(--clr-four);
}

.neon-button::before {
  content: "";
  position: absolute;
  top: 120%;
  left: 0;
  width: 100%;
  height: 100%;
  transform: perspective(1.5em) rotateX(45deg) scale(0.8, 0.3);
  filter: blur(1.5em);
  opacity: 0.7;
  pointer-events: none;
}

.neon-button.active::before {
  animation: scalingShadow 0.5s ease-in-out;
}

@keyframes scalingShadow {
  0% {
    top: 120%;
    transform: perspective(1.5em) rotateX(45deg) scale(0.8, 0.3);
  }
  50% {
    top: 165%;
    transform: perspective(1.5em) rotateX(45deg) scale(0.75, 0.3);
  }
  100% {
    top: 120%;
    transform: perspective(1.5em) rotateX(45deg) scale(0.8, 0.3);
  }
}

.neon-button__1::before {
  background: var(--clr-one);
}

.neon-button__2::before {
  background: var(--clr-two);
}

.neon-button__3::before {
  background: var(--clr-three);
}

.neon-button__4::before {
  background: var(--clr-four);
}
.neon-button::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  opacity: 0;
  z-index: -1;
  transition: opacity 100ms linear;
}

.neon-button__1::after {
  box-shadow: 0 0 2em 0.5em var(--clr-one);
  background-color: var(--clr-one);
}

.neon-button__2::after {
  box-shadow: 0 0 2em 0.5em var(--clr-two);
  background-color: var(--clr-two);
}

.neon-button__3::after {
  box-shadow: 0 0 2em 0.5em var(--clr-three);
  background-color: var(--clr-three);
}

.neon-button__4::after {
  box-shadow: 0 0 2em 0.5em var(--clr-four);
  background-color: var(--clr-four);
}
.neon-button:hover::before,
.neon-button:focus::before {
  opacity: 1;
}

.neon-button:hover::after,
.neon-button:focus::after {
  opacity: 1;
}

.neon-button:hover,
.neon-button:focus {
  outline: none;
  color: var(--clr-bg);
  text-shadow: none;
}

.active {
  animation: animate 0.5s ease-in-out;
}

@keyframes animate {
  0% {
    transform: translateY(0%);
  }
  50% {
    transform: translateY(-40%);
  }
  100% {
    transform: translateY(0%);
  }
}

			.container {
			    display: flex;
			    justify-content: center;
			    align-items: center;
			    width: 100%;
			}

			#productList label span {
			    margin-left: 8px;
			    color: #666;
			    font-size: 0.9em;
			    font-weight: normal;
			}
			.loader {
			    position: relative;
			    display: flex;
			}

			.loader span {
			    position: relative;
			    width: 50px;
			    height: 50px;
			    background: #eaeef0;
			    margin: 0 5px;
			    border: 5px solid #eaeef0;
			    border-radius: 50%;
			    box-shadow: 
			                8px 8px 15px rgba(0, 0, 0, 0.2),
			                inset 3px 3px 5px rgba(0, 0, 0, 0.1),
			                inset -1px -1px 5px rgba(255, 255, 255, 1);
			}

			.loader span::before {
			    content: "";
			    position: absolute;
			    top: 0;
			    left: 0;
			    width: 100%;
			    height: 100%;
			    background: #5c89ff;
			    border-radius: 50%;
			    box-shadow: inset 3px 3px 5px rgba(0, 0, 0, 0.1),
			                inset -1px -1px 5px rgba(255, 255, 255, 1);
			    transform: scale(0);
			    animation: animateDots 3.5s linear infinite, animateColor 5s linear infinite;
			    animation-delay: calc(var(--i) * 0.2s);
			}

			@keyframes animateDots {
			    0%, 9.99%, 70.001%
			    {
			        transform: scale(0);
			    }
			    10%, 70%
			    {
			        transform: scale(1);
			    }
			}

			@keyframes animateColor {
			    0% {
			        filter: hue-rotate(0deg);
			    }
			    100% {
			        filter: hue-rotate(360deg);
			    }
			}
									        body {
									            font-family: Arial, sans-serif;
									            padding: 15px;
									            margin: 0;
									            background-color: #FCEEDD; /* æŸ”å’Œçš„æµ…ç°èƒŒæ™¯ */
									            color: #333; /* æ·±è‰²å­—ä½“æå‡å¯¹æ¯”åº¦ */
									            transition: background-color 0.3s, color 0.3s; /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
									        }


									        /* é»‘æš—æ¨¡å¼ */
									        body.dark-mode {
									            background-color: #1c1c1c; /* æ·±ç°è‰²èƒŒæ™¯ */
									            color: #e0e0e0; /* æµ…è‰²å­—ä½“ */
									        }

									        /* æ·»åŠ ä¸€ä¸ªå®¹å™¨ç±»æ¥åŒ…å«ç›®å½•çš„label */
									        .category-container {
									            display: grid;
									            grid-template-columns: repeat(3, 1fr); /* æ¯è¡Œ3åˆ—ï¼Œæ¯åˆ—å¹³åˆ†å®½åº¦ */
									            gap: 10px; /* é¡¹ç›®ä¹‹é—´çš„é—´è· */
									            margin-bottom: 20px;
									        }

									        body.dark-mode #result {
									            background-color: #333; /* é»‘æš—æ¨¡å¼ä¸‹çš„ç»“æœæ¡†é¢œè‰² */
									            color: #e0e0e0; /* æµ…è‰²å­—ä½“ */
									        }

									        body.dark-mode button {
									            background-color: #444; /* æŒ‰é’®èƒŒæ™¯é¢œè‰² */
									            color: #e0e0e0; /* æŒ‰é’®å­—ä½“é¢œè‰² */
									        }

									        body.dark-mode .whatsapp-button {
									            background-color: #075e54; /* æ·±è‰²WhatsAppç»¿è‰² */
									            color: #e0e0e0; /* æŒ‰é’®å­—ä½“é¢œè‰² */
									        }

									        /* ä¸ºæ¯ä¸ªå•†å“é¡¹è®¾ç½® flexbox å¸ƒå±€ */
									        #productList div {
									            display: flex;
									            justify-content: space-between; /* å•†å“åç§°å’Œè¾“å…¥æ¡†åˆ†å¸ƒä¸¤ä¾§ */
									            align-items: center; /* å‚ç›´å±…ä¸­å¯¹é½ */
									            margin-bottom: 15px; /* ä¿æŒæ¯ä¸ªå•†å“é¡¹ä¹‹é—´çš„é—´è· */
									        }

									        /* å•†å“åç§°éƒ¨åˆ†è‡ªé€‚åº”å æ®å·¦è¾¹ç©ºé—´ */
									        #productList label {
									            flex-grow: 1; /* è‡ªåŠ¨æ‰©å±•ï¼Œå æ®å¯ç”¨ç©ºé—´ */
									            margin-right: 10px; /* ç»™è¾“å…¥æ¡†é¢„ç•™é—´è· */


									        }

									        #suggestions {
									            border: 1px solid #ccc;
									            max-height: 150px;
									            overflow-y: auto;
									            background-color: white;
									            position: absolute;
									            width: 220px;
									            z-index: 10;
									        }

									        #suggestions div {
									    padding: 4px; /* è°ƒæ•´ä¸Šä¸‹çš„ padding æ¥å‡å°‘é—´éš” */
									    line-height: 0.6; /* è°ƒå° line-height ä»¥å‡å°‘ä¸Šä¸‹é—´è· */
									    cursor: pointer;
									    color: #333; /* è®¾ç½®å­—ä½“é¢œè‰²ä¸ºæ·±ç°è‰² */
									}

									}


									        #suggestions div:hover {
									            background-color: #f0f0f0;
									        }

									        /* è°ƒæ•´è¾“å…¥æ¡†å¤§å°å¹¶å¯¹é½å³è¾¹ */
									        input[type="number"] {
									            width: 80px;
									            margin-left: 10px;
									            text-align: right; /* ä½¿æ•°å­—é å³æ˜¾ç¤º */
									        }
									        #productSearch {
									    width: 210px; /* è°ƒæ•´ä¸º100%ä»¥é€‚åº”å®¹å™¨å®½åº¦ */
									    padding: 5px; /* å¢åŠ å†…è¾¹è·ä»¥å¢å¤§ç‚¹å‡»åŒºåŸŸ */
									    font-size: 1.2rem; /* è°ƒæ•´å­—ä½“å¤§å° */
									    border-radius: 5px; /* ä½¿è¾¹æ¡†åœ†æ¶¦ */
									    border: 1px solid #ccc; /* è®¾ç½®è¾¹æ¡†é¢œè‰² */
									}

									        h1 {
									            font-size: 4rem;
									            font-weight: bold;
									            text-align: center;

									        }

									        #result {
									            width: 100%;
									            height: 150px;
									            border: 1px solid #ccc;
									            padding: 10px;
									            margin-top: 10px;
									            white-space: pre-wrap;
									            overflow: auto;
									            font-size: 1.1rem;
									            background-color: #fff;
									            border-radius: 8px;
									        }

									        div {
									            margin-bottom: 15px;
									        }

									        label {
									            font-size: 1.1rem;
									        }

									        input[type="number"], input[type="checkbox"] {
									            font-size: 1rem;
									        }

									        button {
									            padding: 12px 18px;
									            font-size: 1.1rem;
									            margin: 10px 0;
									            cursor: pointer;
									            width: 100%;
									            border: none;
									            border-radius: 8px;
									        }

									        /* WhatsApp ç»¿è‰²æŒ‰é’®æ ·å¼ */
									        .whatsapp-button {
									            background-color: #25D366; /* WhatsAppç»¿è‰² */
									            color: white; /* ç™½è‰²æ–‡å­— */
									        }

									        /* åˆ‡æ¢æ¨¡å¼æŒ‰é’®æ ·å¼ */
									        .toggle-mode-btn {
									            background-color: #007bff;
									            color: white;
									            padding: 10px 20px;
									            margin-bottom: 20px;
									            cursor: pointer;
									            border: none;
									            border-radius: 5px;
									            font-size: 1rem;
									        }

									        .contact-info {
									            font-size: 1rem;
									            font-style: italic;
									            color: #555; /* ç¨å¾®æµ…ä¸€ç‚¹çš„é¢œè‰² */
									            text-align: center;
									            background-color: #f9f9f9; /* æŸ”å’Œçš„èƒŒæ™¯è‰² */
									            padding: 10px;
									            border-radius: 8px;
									            margin-bottom: 20px; /* å¢åŠ ä¸ä¸‹æ–¹å†…å®¹çš„é—´è· */
									            border: 1px solid #ddd; /* æ·»åŠ æµ…è‰²è¾¹æ¡† */
									        }

									        @media (max-width: 768px) {
									            h1 {
									                font-size: 3rem;
									            }

									            body {
									                padding: 10px;
									            }

									            button {
									                padding: 10px 15px;
									            }
									        }

									        .quantity-btn {
									            width: 30px;
									            height: 30px;
									            border: none;
									            border-radius: 50%; /* åœ†å½¢æŒ‰é’® */
									            cursor: pointer;
									            font-size: 2rem;
									            display: inline-flex;
									            justify-content: center;
									            align-items: center;
									        }

									        .quantity-btn:nth-child(3) {
									            background-color: #4CAF50 ; /* é’è‰² */
									            color: white;
									        }

									        .quantity-btn:nth-child(5) {
									            background-color: #F44336; /* çº¢è‰² */
									            color: white;
									        }
						                    .quantity-btn:hover {
						    transform: scale(1.1); /* æ”¾å¤§æŒ‰é’® */
						    transition: transform 0.2s ease; /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
						}
						.quantity-btn:active {
						    transform: scale(0.95); /* æŒ‰ä¸‹æ—¶ç¼©å°æŒ‰é’® */
						    transition: transform 0.1s ease;
						}
						.quantity-btn {
						    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
						}
						.quantity-btn {
						    transition: background-color 0.3s ease, color 0.3s ease;
						}


						                    input[type="number"] {
						    width: 40px; /* ä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ä¸ºä»»ä½•åˆé€‚çš„å¤§å° */
						    padding: 5px; /* è°ƒæ•´å†…è¾¹è·ä»¥ä½¿è¾“å…¥æ¡†çœ‹èµ·æ¥æ›´èˆ’é€‚ */
						    margin-left: 10px;
			                margin-right: 10px;/* ç•™å‡ºä¸å…¶ä»–å…ƒç´ çš„é—´è· */
						    text-align: middle; /* ä¿æŒæ•°å­—é å³å¯¹é½ */
						   }
		</style>
	</head>
	<body>
		<!-- æ¨¡å¼åˆ‡æ¢æŒ‰é’® -->
		<button class="toggle-mode-btn" onclick="toggleDarkMode()">åˆ‡æ¢è‡³é»‘æš—æ¨¡å¼</button>

		<h1>Stock Order</h1>
		<div class="container">
			<div class="loader">
				<span style="--i:0;"></span>
				<span style="--i:1;"></span>
				<span style="--i:2;"></span>
				<span style="--i:3;"></span>
				<span style="--i:4;"></span>
			</div>
		</div>
		<div>
			<input type="checkbox" id="addOnCheckbox" />
			<label for="addOnCheckbox">Add On</label>
		</div>

		<h3>SHOP</h3>
		<div class="store-buttons">
        
    <a href="#" class="store-btn neon-button neon-button__1" data-value="*JKL*" onclick="selectStore(this)">JKL</a>
    <a href="#" class="store-btn neon-button neon-button__2" data-value="*TOM*" onclick="selectStore(this)">TOM</a>
	<a href="#" class="store-btn neon-button neon-button__3" data-value="*Ole-Ole*" onclick="selectStore(this)">Ole-Ole</a>



		</div>

		<h3>Catogory</h3>

		<div class="category-container">
			<a href="#" class="category-btn neon-button neon-button__4" data-value="BanHeang" onclick="selectCategory(this)">BanHeang</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="HopHup" onclick="selectCategory(this)">HopHup</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="Chocolate" onclick="selectCategory(this)">Chocolate</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="Sotong" onclick="selectCategory(this)">Sotong</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="Coffee" onclick="selectCategory(this)">Coffee</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="Amplang" onclick="selectCategory(this)">Amplang</a>
			<a href="#" class="category-btn neon-button neon-button__4" data-value="Other" onclick="selectCategory(this)">Other</a>
		</div>

		<input type="text" id="productSearch" placeholder="Search..." oninput="searchProduct()" autocomplete="off" />
		<div id="suggestions"></div>
		<h3>Select items (default quantity is 1ï¼‰</h3>
		<div id="productList"></div>

		<button onclick="generateText()">Generate</button>
		<button class="whatsapp-button" onclick="copyAndSendWhatsApp()">Copy And Paste to WhatsApp</button>

		<div id="result"></div>

		<script>
			        const SHEET_ID = 'ä½ çš„è¡¨æ ¼ID';
			const SHEET_NAME = 'Sheet1'; // å¦‚æœä½ çš„è¡¨æ ¼é¡µé¢åç§°ä¸æ˜¯ Sheet1ï¼Œè¯·ä¿®æ”¹è¿™é‡Œ

			function loadQuantitiesFromSheet() {
			    const SHEET_ID = '1QUB8R0-gtwNhdiPYU2rwFf_UKrGyyqCQHzIQ7AxKFLI';
			    const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=${SHEET_NAME}`;

			    fetch(url)
			        .then(response => response.text())
			        .then(data => {
			            try {
			                const jsonData = JSON.parse(data.substr(47).slice(0, -2));
			                const rows = jsonData.table.rows;

			                // åˆ›å»ºä¸€ä¸ªæ˜ å°„æ¥å­˜å‚¨å•†å“åç§°å’Œåº“å­˜æ•°é‡
			                const stockMap = {};
			                rows.forEach(row => {
			                    if(row.c[0] && row.c[1]) {
			                        const productName = row.c[0].v;
			                        const stockQuantity = row.c[1].v;
			                        stockMap[productName] = stockQuantity;
			                    }
			                });

			                // æ›´æ–°æ‰€æœ‰å•†å“æ ‡ç­¾æ˜¾ç¤ºåº“å­˜æ•°é‡
			                const labels = document.querySelectorAll('#productList label');
			                labels.forEach(label => {
			                    const productName = label.textContent;
			                    const stock = stockMap[productName];
			                    if (stock !== undefined) {
			                        // åœ¨å•†å“åç§°åæ·»åŠ åº“å­˜æ•°é‡
			                        label.innerHTML = `${productName} <span style="color: blue; font-size: 0.9em;">(Stock: ${stock})</span>`;
			                    }
			                });
			            } catch (error) {
			                console.error('è§£ææ•°æ®é”™è¯¯:', error);
			            }
			        })
			        .catch(error => console.error('è·å–æ•°æ®å¤±è´¥:', error));
			}
						        // åˆ†ç±»å•†å“
						 						        const categories = {
			    BanHeang: [
			        { id: 101, name: "BH Tambun Original" },
			        { id: 102, name: "BH Tambun Pandan" },
			        { id: 103, name: "BH Tambun White Lotus" },
			        { id: 104, name: "BH Tau Sar Pheah" },
			        { id: 105, name: "BH Heong Pheah" },
			        { id: 106, name: "BH Beh Teh Saw" },
			        { id: 107, name: "BH Phong Pheah" },
			        { id: 108, name: "BH Pepper Biscuit" },
			        { id: 109, name: "BH Hup Toh Soh" },
			        { id: 110, name: "BH Omlette Crisp Chocolate" },
			        { id: 111, name: "BH Omlette Crisp Pandan" },
			        { id: 112, name: "BH Kai Chai Biscuit" },
			        { id: 113, name: "BH Almond Slice" },
			        { id: 114, name: "BH Almond Slice Salted Egg" },
			        { id: 115, name: "BH Durian Crisp" },
			        { id: 116, name: "BH Coconut Crisp" },
			        { id: 117, name: "BH Salted Fish Crisp" },
			        { id: 118, name: "BH Salted Egg Crisp" },
			        { id: 119, name: "BH Cheese Crisp" },
			        { id: 120, name: "BH Chic Kut Teh" },
			        { id: 121, name: "BH Ginger Slice" },
			        { id: 122, name: "BH Dried Mango" },
			        { id: 123, name: "BH Kacang Tumbuk" },
			        { id: 124, name: "BH Gula Kacang" },
			        { id: 125, name: "BH Black Sesame Peanut" },
			        { id: 126, name: "BH Shat Kek Ma" },
			        { id: 127, name: "BH Shat Kek Ma (Brown Sugar)" },
			        { id: 128, name: "BH Coconut Biscuits" },
			        { id: 129, name: "BH FD Durian 50g" },
			        { id: 130, name: "BH FD Mango 50g" },
			        { id: 131, name: "BH FD Durian 30g" },
                    { id: 160, name: "BH FD Mango 30g" },
                    { id: 161, name: "BH FD Cempedak 25g" },
                    { id: 162, name: "BH FD Jackfruit 30g" },
			        { id: 132, name: "BH Butter Cookies" },
			        { id: 133, name: "BH Chocolate Cookies" },
			        { id: 134, name: "BH Raisin Cookies" },
			        { id: 135, name: "BH Almond Cookies" },
			        { id: 136, name: "BH Pineapple Tart" },
			        { id: 137, name: "BH Red Bean Mochi" },
			        { id: 138, name: "BH Peanut Mochi" },
			        { id: 139, name: "BH Green Tea Mochi" },
			        { id: 140, name: "BH Durian Mochi" },
			        { id: 141, name: "BH Yam Mochi" },
			        { id: 142, name: "BH Mochi Milk Yam Filling" },
			        { id: 143, name: "BH Mochi Milk Mango Filling" },
			        { id: 144, name: "BH Mochi Milk Green Tea" },
			        { id: 145, name: "BH Sotong Cuttlefish" },
			        { id: 146, name: "BH Gula Cuttlefish" },
			        { id: 147, name: "BH Satay Fish" },
			        { id: 148, name: "BH Fillet Cracker With Anchovy" },
			        { id: 149, name: "BH Fillet Cracker With Seaweed" },
			        { id: 150, name: "BH Sakura Shrimp" },
			        { id: 151, name: "BH Frugurt Yogurt Blueberry" },
			        { id: 152, name: "BH Frugurt Yogurt Peach" },
			        { id: 153, name: "BH Frugurt Yogurt Mango" },
			        { id: 154, name: "BH Durian Pudding" },
			        { id: 155, name: "BH Coconut Pudding" },
			        { id: 156, name: "BH Dodol Durian" },
			        { id: 157, name: "BH Dodol Coconut" },
			        { id: 158, name: "BH Dodol Pandan" },
			        { id: 159, name: "BH Durian Beh Teh Saw" },
                    { id: 163, name: "Fruity Marshmallow" },
                    { id: 164, name: "Matcha Marshmallow" },
                    { id: 165, name: "Durian Marshmallow" },
			    ],
			    HopHup: [
			        { id: 201, name: "HT Durian Tart" },
			        { id: 202, name: "HT Mango Tart" },
			        { id: 203, name: "HT Durian Wafer Roll" },
			        { id: 204, name: "HT Mango Wafer Roll" },
			        { id: 205, name: "HT Omelette Durian" },
			        { id: 206, name: "HT Coconut Ori Cookies" },
			        { id: 207, name: "HT Coconut Pandan Cookies" },
			        { id: 208, name: "HT Dodol Original" },
			        { id: 209, name: "HT Dodol Kopi" },
			        { id: 210, name: "HT Dodol Durian" },
			        { id: 211, name: "HT Freeze Dried Mango" },
			        { id: 212, name: "HT Freeze Dried Durian" },
			        { id: 213, name: "Salted Egg Fish Skin" },
			        { id: 214, name: "Salted Egg Fish Skin Spicy" },
			        { id: 215, name: "Salted Egg Salmon Skin" },
			        { id: 216, name: "Musang King Durian Candy" },
			        { id: 217, name: "HT Durian Cookies" },
			        { id: 218, name: "Fish Chips Classic" },
			        { id: 219, name: "Salted Egg Fish Chips" },
			        { id: 220, name: "Salted Egg Fish Chips Mala" }
			    ],
			    Chocolate: [
			        { id: 301, name: "AD Chocolate Durian", unit: 'pc', defaultQuantity: 50 },
			        { id: 302, name: "AD Chocolate Sabah Tea", unit: 'pc', defaultQuantity: 50 },
			        { id: 303, name: "AD Chocolate Mango", unit: 'pc', defaultQuantity: 50 },
			        { id: 304, name: "AD Chocolate Chili", unit: 'pc', defaultQuantity: 50 },
			        { id: 305, name: "AD Chocolate Dark", unit: 'pc', defaultQuantity: 50 },
			        { id: 306, name: "AD Chocolate Coffee", unit: 'pc', defaultQuantity: 50 },
			        { id: 307, name: "AD Chocolate Banana", unit: 'pc', defaultQuantity: 50 },
			        { id: 308, name: "AD Chocolate Tiramisu", unit: 'pc', defaultQuantity: 50 },
			        { id: 309, name: "AD Chocolate Mint", unit: 'pc', defaultQuantity: 50 },
			        { id: 310, name: "AD Chocolate Rambutan", unit: 'pc', defaultQuantity: 50 },
			        { id: 311, name: "AD Chocolate Soursup", unit: 'pc', defaultQuantity: 50 },
			        { id: 312, name: "AD Chocolate Coconut", unit: 'pc', defaultQuantity: 50 },
			        { id: 313, name: "AD Chocolate Mangosteen", unit: 'pc', defaultQuantity: 50 }
			    ],
			    Sotong: [
			        { id: 401, name: "Cuttlefish Red" },
			        { id: 402, name: "Cuttlefish Lemon" },
			        { id: 403, name: "Cuttlefish Honey" },
			        { id: 404, name: "Cuttlefish Floss Original" },
			        { id: 405, name: "Cuttlefish Massive" },
			        { id: 406, name: "Cuttlefish Whole" },
			        { id: 407, name: "Cuttlefish Roasted" },
			        { id: 408, name: "Cuttlefish Chili" },
			        { id: 409, name: "Cuttle Fish Slices" },
			        { id: 410, name: "Cuttle Fish Sugar" },
			        { id: 411, name: "Five Star Cuttlefish" }
			    ],
			    Coffee: [
			        { id: 501, name: "BH W/Coffee(Mini)" },
			        { id: 502, name: "BH W/Coffee(Mini)No Sugar" },
			        { id: 503, name: "BH Durian W/Coffee(Mini)" },
			        { id: 504, name: "BH Teh Tarik(Mini)" },
			        { id: 505, name: "BH W/Coffee" },
			        { id: 506, name: "BH W/Coffee No Sugar" },
			        { id: 507, name: "BH Kopi O 2in1" },
			        { id: 508, name: "BH Kopi O No Sugar" },
			        { id: 509, name: "BH Teh Tarik" },
			        { id: 510, name: "BH Durian White Coffee" },
			        { id: 511, name: "Kopi Tenom Silver" },
			        { id: 512, name: "Kopi Tenom Gold" },
			        { id: 513, name: "Kopi Tenom Blue" },
			        { id: 514, name: "Kopi Tenom Green" },
			        { id: 515, name: "Kopi Tenom Red" }
			    ],
			    Amplang: [
			        { id: 601, name: "Amplang Ikan" },
			        { id: 602, name: "Amplang Udang" },
			        { id: 603, name: "Amplang Sotong" }
			    ],
			    Other: [
			        { id: 701, name: "Fruity Gummy Assorted" },
			        { id: 702, name: "Fruity Gummy Mango" },
			        { id: 703, name: "Durian Kuih" },
			        { id: 704, name: "Anchovy Blue" },
			        { id: 705, name: "Anchovy Green" },
			        { id: 706, name: "Anchovy Red" },
			        { id: 707, name: "Anchovy Yellow" },
                    { id: 708, name: "Prawn Cracker 500g" },
                    { id: 709, name: "Fish Maw" }
			    ]
			};
						        let selectedItems = {};

			function loadProducts(products) {
			    const productList = document.getElementById('productList');
			    productList.innerHTML = '';

			    products.forEach(product => {
			        const div = document.createElement('div');
			        const isChecked = selectedItems[product.id] ? 'checked' : '';

			        div.innerHTML = `
			            <input type="checkbox" id="item${product.id}" ${isChecked} onchange="saveItem(${product.id}, '${product.name}')">
			            <label for="item${product.id}">${product.name}</label>
			            <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
			            <input type="number"
			                   id="quantity${product.id}"
			                   min="1"
			                   value="${selectedItems[product.id] || 1}"
			                   readonly>
			            <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
			        `;
			        productList.appendChild(div);
			    });

			    // åŠ è½½å¹¶æ˜¾ç¤ºåº“å­˜æ•°é‡
			    loadQuantitiesFromSheet();
			}
						        function saveItem(id, name) {
						            const checkbox = document.getElementById('item' + id);
						            const quantity = document.getElementById('quantity' + id).value || 1;

						            if (checkbox.checked) {
						                selectedItems[id] = quantity;
						            } else {
						                delete selectedItems[id]; // å¦‚æœå–æ¶ˆå‹¾é€‰ï¼Œå°±åˆ é™¤è¯¥å•†å“
						            }
						        }

						        function saveQuantity(id) {
						            const quantity = document.getElementById('quantity' + id).value || 1;
						            if (selectedItems[id]) {
						                selectedItems[id] = quantity; // æ›´æ–°æ•°é‡
						            }
						        }

						        function changeQuantity(id, change) {
						            const quantityInput = document.getElementById('quantity' + id);
						            let currentQuantity = parseInt(quantityInput.value) || 1; // é»˜è®¤å€¼ä¸º1

						            // æ›´æ–°æ•°é‡å¹¶ç¡®ä¿ä¸å°äº1
						            currentQuantity = Math.max(1, currentQuantity + change);
						            quantityInput.value = currentQuantity;

						            saveQuantity(id); // ä¿å­˜æ›´æ–°çš„æ•°é‡
						        }
						                function toggleItems() {
						            let selectedStore = document.querySelector('.store-btn.active');
						            let checkboxes = document.querySelectorAll('#productList input[type="checkbox"]');
						            let quantities = document.querySelectorAll('#productList input[type="number"]');

						            if (selectedStore) {
						                checkboxes.forEach(checkbox => checkbox.disabled = false);
						                quantities.forEach(quantity => quantity.disabled = false);
						            } else {
						                checkboxes.forEach(checkbox => checkbox.disabled = true);
						                quantities.forEach(quantity => quantity.disabled = true);
						            }
						        }

						        function showCategory() {
						            let selectedCategory = document.querySelector('input[name="category"]:checked');

						            if (selectedCategory) {
						                let categoryValue = selectedCategory.value;
						                let productsToShow = categories[categoryValue];

						                if (productsToShow) {
						                    loadProducts(productsToShow); // æ ¹æ®é€‰æ‹©çš„ç›®å½•åŠ è½½å•†å“
						                } else {
						                    console.error("æ²¡æœ‰æ‰¾åˆ°è¯¥åˆ†ç±»çš„å•†å“");
						                }
						            } else {
						                console.error("æ²¡æœ‰é€‰ä¸­ä»»ä½•åˆ†ç±»");
						            }

						            toggleItems(); // ç¡®ä¿æ¿€æ´»å•†å“é€‰æ‹©æ¡†
						        }

						function generateText() {
   let result = '';
   // ä¿®æ”¹é€‰æ‹©å™¨ä»¥åŒæ—¶æ”¯æŒ button å’Œ a æ ‡ç­¾
   let selectedStore = document.querySelector('.store-btn.active, .store-btn.selected');
   let hasAddOn = document.getElementById('addOnCheckbox').checked;
    if (selectedStore) {
       result += 'Kedai: ' + selectedStore.getAttribute('data-value');
       if (hasAddOn) {
           result += ' ğŸ’¥Add OnğŸ’¥';
       }
       result += '\n\n';
   } else {
       result += 'Kedai: æœªé€‰æ‹©\n';
   }

			    // æŒ‰åˆ†ç±»æ•´ç†å·²é€‰å•†å“
			    const categorizedItems = {};

			    // åˆå§‹åŒ–æ‰€æœ‰åˆ†ç±»
			    Object.keys(categories).forEach(category => {
			        categorizedItems[category] = [];
			    });

			    // å°†é€‰ä¸­çš„å•†å“æŒ‰åˆ†ç±»æ•´ç†
			    for (const [id, quantity] of Object.entries(selectedItems)) {
			        // æŸ¥æ‰¾å•†å“æ‰€å±çš„åˆ†ç±»
			        for (const [category, products] of Object.entries(categories)) {
			            const product = products.find(p => p.id == id);
			            if (product) {
			                const unit = product.unit === 'pc' ? 'pc' : 'ctn';
			                categorizedItems[category].push({
			                    name: product.name,
			                    quantity: quantity,
			                    unit: unit
			                });
			                break;
			            }
			        }
			    }

			    // æŒ‰åˆ†ç±»è¾“å‡ºå•†å“
			    for (const [category, items] of Object.entries(categorizedItems)) {
			        if (items.length > 0) {
			            result += `\n=== ${category} ===\n`;
			            items.forEach(item => {
			                result += `${item.name} - ${item.quantity} ${item.unit}\n`;
			            });
			        }
			    }

			    result += '\nAirport Stock Order: smartprofits.github.io/order/';
			    document.getElementById('result').innerText = result;

			    // æ¸…ç©ºå•†å“åˆ—è¡¨
			    document.getElementById('productList').innerHTML = '';

			    return result;
			}



						        function copyAndSendWhatsApp() {
						            let text = generateText();
						            navigator.clipboard.writeText(text).then(() => {
						                alert('æ–‡å­—å·²å¤åˆ¶ï¼Œç°åœ¨è·³è½¬åˆ°WhatsApp');
						                let whatsappURL = `https://wa.me/?text=${encodeURIComponent(text)}`;
						                window.location.href = whatsappURL;
						            }).catch(err => {
						                console.error('æ— æ³•å¤åˆ¶', err);
						            });
						        }

						        // æ£€æŸ¥æ˜¯å¦å·²ç»é€‰æ‹©äº†æ¨¡å¼ï¼Œå¹¶è®¾ç½®é»˜è®¤æ¨¡å¼


						        function toggleDarkMode() {
						            const isDarkModeEnabled = document.body.classList.toggle('dark-mode');
						            const toggleButton = document.querySelector('.toggle-mode-btn');

						            if (isDarkModeEnabled) {
						                toggleButton.textContent = 'Light ModeğŸŒ';
						                localStorage.setItem('dark-mode', 'enabled');
						            } else {
						                toggleButton.textContent = 'Dark ModeğŸŒ™';
						                localStorage.setItem('dark-mode', 'disabled');
						            }
						        }
						function searchProduct() {
						    const searchText = document.getElementById('productSearch').value.toLowerCase();
						    const suggestionsContainer = document.getElementById('suggestions');
						    suggestionsContainer.innerHTML = ''; // æ¸…ç©ºä¹‹å‰çš„å»ºè®®

						    if (searchText.length === 0) return; // å¦‚æœæ²¡æœ‰è¾“å…¥ï¼Œä¸æ˜¾ç¤ºå»ºè®®

						    // è·å–æ‰€æœ‰åˆ†ç±»ä¸­çš„å•†å“
						    const allProducts = Object.values(categories).flat();

						    // æ ¹æ®è¾“å…¥çš„å†…å®¹ç­›é€‰å‡ºåŒ¹é…çš„å•†å“
						    const matchingProducts = allProducts.filter(product => product.name.toLowerCase().includes(searchText));

						    // æ˜¾ç¤ºåŒ¹é…çš„å•†å“ä½œä¸ºå»ºè®®
						    matchingProducts.forEach(product => {
						        const div = document.createElement('div');
						        div.textContent = product.name;
						        div.onclick = () => selectProduct(product); // ç‚¹å‡»å»ºè®®åé€‰æ‹©è¯¥å•†å“
						        suggestionsContainer.appendChild(div);
						    });
						}

						function selectProduct(product) {
			    const productSearch = document.getElementById('productSearch');
			    productSearch.value = '';
			    const productList = document.getElementById('productList');
			    productList.innerHTML = '';

			    // åˆ›å»ºæ–°çš„å•†å“é€‰æ‹©æ¡†
			    const div = document.createElement('div');
			    div.innerHTML = `
			        <input type="checkbox" id="item${product.id}" checked onchange="saveItem(${product.id}, '${product.name}')">
			        <label for="item${product.id}">${product.name}</label>
			        <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
			        <input type="number" id="quantity${product.id}" min="1" value="1" onchange="saveQuantity(${product.id})">
			        <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
			    `;
			    productList.appendChild(div);

			    // ä¿å­˜æ–°é€‰æ‹©çš„å•†å“
			    saveItem(product.id, product.name);

			    // ç«‹å³ä¸ºè¿™ä¸ªç‰¹å®šå•†å“åŠ è½½åº“å­˜ä¿¡æ¯
			    loadStockForProduct(product.name);

			    document.getElementById('suggestions').innerHTML = '';
			}

			// æ–°å¢å‡½æ•°ï¼šåªä¸ºç‰¹å®šå•†å“åŠ è½½åº“å­˜ä¿¡æ¯
			function loadStockForProduct(productName) {
			    const SHEET_ID = '1QUB8R0-gtwNhdiPYU2rwFf_UKrGyyqCQHzIQ7AxKFLI';
			    const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?tqx=out:json&sheet=${SHEET_NAME}`;

			    fetch(url)
			        .then(response => response.text())
			        .then(data => {
			            try {
			                const jsonData = JSON.parse(data.substr(47).slice(0, -2));
			                const rows = jsonData.table.rows;

			                // æŸ¥æ‰¾ç‰¹å®šå•†å“çš„åº“å­˜
			                const stockInfo = rows.find(row =>
			                    row.c[0] && row.c[0].v === productName
			                );

			                if (stockInfo && stockInfo.c[1]) {
			                    const stock = stockInfo.c[1].v;
			                    // æ›´æ–°ç‰¹å®šå•†å“çš„æ ‡ç­¾
			                    const label = document.querySelector(`label[for="item${product.id}"]`);
			                    if (label) {
			                        label.innerHTML = `${productName} <span style="color: #666; font-size: 0.9em;">(Stock:${stock})</span>`;
			                    }
			                }
			            } catch (error) {
			                console.error('è§£ææ•°æ®é”™è¯¯:', error);
			            }
			        })
			        .catch(error => console.error('è·å–æ•°æ®å¤±è´¥:', error));
			}



						// åœ¨é¡µé¢åŠ è½½æ—¶è®¾ç½®é»˜è®¤è¯­è¨€
			window.onload = function() {
			    const savedMode = localStorage.getItem('dark-mode');
			    if (savedMode === 'enabled') {
			        document.body.classList.add('dark-mode');
			        document.querySelector('.toggle-mode-btn').textContent = 'åˆ‡æ¢è‡³æ­£å¸¸æ¨¡å¼';
			    }
			    toggleItems(); // åˆå§‹åŒ–å•†å“é€‰æ‹©æ¡†

			    // æ·»åŠ å®šæ—¶åˆ·æ–°
			    setInterval(loadQuantitiesFromSheet, 30000);
			}


						        // å…¶ä»–ä»£ç çœç•¥...
function selectStore(button) {
   // é˜»æ­¢é»˜è®¤è¡Œä¸º
   event.preventDefault();
   
   // ç§»é™¤å…¶ä»–æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
   document.querySelectorAll('.store-btn').forEach(btn => {
       btn.classList.remove('active');
       btn.classList.remove('selected');
   });
   
   // æ·»åŠ å½“å‰æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
   button.classList.add('active');
   button.classList.add('selected');
   
   // è§¦å‘åŸæœ‰çš„åˆ‡æ¢åŠŸèƒ½
   toggleItems();

			}

			function selectCategory(button) {
			    // ç§»é™¤å…¶ä»–æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
			    document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
			    // æ·»åŠ å½“å‰æŒ‰é’®çš„æ´»åŠ¨çŠ¶æ€
			    button.classList.add('active');
			    // è·å–åˆ†ç±»å€¼å¹¶æ˜¾ç¤ºå¯¹åº”å•†å“
			    const categoryValue = button.getAttribute('data-value');
			    showCategoryByValue(categoryValue);
			}
            const links = document.querySelectorAll("a");

links.forEach((link) => {
  link.addEventListener("click", (event) => {
    event.preventDefault();
    event.target.classList.add("active");
    setTimeout(() => {
      event.target.classList.remove("active");
    }, 500);
  });
});

			function showCategoryByValue(categoryValue) {
			    if (categoryValue && categories[categoryValue]) {
			        loadProducts(categories[categoryValue]);
			    }
			    toggleItems();
			}
            
		</script>

		<p class="contact-info">If you have any questions or need to add new products, please contact me (Mark).</p>
	</body>
</html>
